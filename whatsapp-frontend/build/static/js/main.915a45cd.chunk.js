(this["webpackJsonpwhatsapp-clone"]=this["webpackJsonpwhatsapp-clone"]||[]).push([[0],{61:function(e,s,t){},62:function(e,s,t){},64:function(e,s,t){},87:function(e,s,t){},88:function(e,s,t){},91:function(e,s,t){"use strict";t.r(s);var c=t(2),a=t(0),n=t.n(a),i=t(13),r=t.n(i),j=(t(61),t(52)),b=t(27),l=(t(62),t(32)),d=t.n(l),h=t(42),o=t(111),O=t(110),u=t(105),x=t(106),m=t(107),p=t(108),f=t(109),v=(t(64),t(43)),_=t.n(v).a.create({baseURL:"http://localhost:9000"});var g=function(e){var s=e.messages,t=Object(a.useState)(""),n=Object(b.a)(t,2),i=n[0],r=n[1],j=function(){var e=Object(h.a)(d.a.mark((function e(s){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s.preventDefault(),console.log("Message Submitted"),e.next=4,_.post("/messages/new",{message:i,name:"Piyush Soni",timestamp:"Just Now",received:!1});case 4:r("");case 5:case"end":return e.stop()}}),e)})));return function(s){return e.apply(this,arguments)}}();return Object(c.jsxs)("div",{className:"chat",children:[Object(c.jsxs)("div",{className:"chat__header",children:[Object(c.jsx)(o.a,{}),Object(c.jsxs)("div",{className:"chat__headerInfo",children:[Object(c.jsx)("h3",{children:"Room Name"}),Object(c.jsx)("p",{children:"Last seen at..."})]}),Object(c.jsxs)("div",{className:"chat__headerRight",children:[Object(c.jsx)(O.a,{children:Object(c.jsx)(u.a,{})}),Object(c.jsx)(O.a,{children:Object(c.jsx)("label",{htmlFor:"file",children:Object(c.jsx)(x.a,{})})}),Object(c.jsx)(O.a,{children:Object(c.jsx)(m.a,{})})]})]}),Object(c.jsx)("div",{className:"chat__body",children:s.map((function(e){return Object(c.jsxs)("p",{className:"chat__message ".concat(e.received&&"chat__reciever"),children:[Object(c.jsx)("span",{className:"chat__name",children:e.name}),e.message,Object(c.jsx)("span",{className:"chat__timestamp",children:(new Date).toUTCString()})]})}))}),Object(c.jsxs)("div",{className:"chat__footer",children:[Object(c.jsx)(p.a,{}),Object(c.jsxs)("form",{children:[Object(c.jsx)("input",{value:i,onChange:function(e){return r(e.target.value)},type:"text",placeholder:"Type a message"}),Object(c.jsx)("button",{onClick:j,type:"submit",children:"Send a message"})]}),Object(c.jsx)(f.a,{})]})]})},N=(t(87),t(48)),w=t.n(N),y=t(49),C=t.n(y),S=t(50),F=t.n(S);t(88);var R=function(){return Object(c.jsxs)("div",{className:"sidebarChat",children:[Object(c.jsx)(o.a,{}),Object(c.jsxs)("div",{className:"sidebarChat__info",children:[Object(c.jsx)("h2",{children:"Room Name"}),Object(c.jsx)("p",{children:"This is the last message"})]})]})};var T=function(){return Object(c.jsxs)("div",{className:"sidebar",children:[Object(c.jsxs)("div",{className:"sidebar__header",children:[Object(c.jsx)(o.a,{src:"https://www.codewheel.live/portfolio/images/myprofile.jpg"}),Object(c.jsxs)("div",{className:"sidebar__headerRight",children:[Object(c.jsx)(O.a,{children:Object(c.jsx)(w.a,{})}),Object(c.jsx)(O.a,{children:Object(c.jsx)(C.a,{})}),Object(c.jsx)(O.a,{children:Object(c.jsx)(F.a,{})})]})]}),Object(c.jsx)("div",{className:"sidebar__search",children:Object(c.jsxs)("div",{className:"sidebar__searchContainer",children:[Object(c.jsx)(u.a,{}),Object(c.jsx)("input",{type:"text",placeholder:"Search or start a new chat"})]})}),Object(c.jsxs)("div",{className:"sidebar__chats",children:[Object(c.jsx)(R,{}),Object(c.jsx)(R,{}),Object(c.jsx)(R,{})]})]})},k=t(51),L=t.n(k);var D=function(){var e=Object(a.useState)([]),s=Object(b.a)(e,2),t=s[0],n=s[1];return Object(a.useEffect)((function(){_.get("/messages/sync").then((function(e){n(e.data)}))}),[]),Object(a.useEffect)((function(){var e=new L.a("e990b3d3b7ba099aef5a",{cluster:"eu"}).subscribe("messages");return e.bind("inserted",(function(e){n([].concat(Object(j.a)(t),[e]))})),function(){e.unbind_all(),e.unsubscribe()}}),[t]),console.log(t),Object(c.jsx)("div",{className:"app",children:Object(c.jsxs)("div",{className:"app__body",children:[Object(c.jsx)(T,{}),Object(c.jsx)(g,{messages:t})]})})},E=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,112)).then((function(s){var t=s.getCLS,c=s.getFID,a=s.getFCP,n=s.getLCP,i=s.getTTFB;t(e),c(e),a(e),n(e),i(e)}))};r.a.render(Object(c.jsx)(n.a.StrictMode,{children:Object(c.jsx)(D,{})}),document.getElementById("root")),E()}},[[91,1,2]]]);
//# sourceMappingURL=main.915a45cd.chunk.js.map